#summary High Level Design

= Classes =

  * [DetailedDesign#SyncJob_Related_Classes SyncJob Related Classes]
    * [DetailedDesign#SyncJob SyncJob]
    * [DetailedDesign#SQLiteSyncJobManager SQLiteSyncJobManager]
  * [DetailedDesign#SyncSource_Related_Classes SyncSource Related Classes]
    * [DetailedDesign#SyncSource SyncSource]
    * [DetailedDesign#SQLiteSyncSourceProvider SQLiteSyncSourceProvider]
  * [DetailedDesign#SyncActions_Related_Classes SyncActions Related Classes]
    * [DetailedDesign#SyncActions SyncAction]
    * [DetailedDesign#SyncActions CreateAction]
    * [DetailedDesign#SyncActions DeleteAction]
    * [DetailedDesign#SyncActions RenameAction]
  * [DetailedDesign#Metadata_Related_Classes Metadata Related Classes]
    * [DetailedDesign#FileMetadata FileMetadata]
    * [DetailedDesign#FileMetadataItem FileMetadataItem]
    * [DetailedDesign#SQLiteMetadataProvider SQLiteMetadataProvider]
  * [DetailedDesign#IntermediaryStorage IntermediaryStorage]

----

== !SyncJob Related Classes ==

=== !SyncJob ===

Represents information about a synchronization job. It stores information about the folder being synchronized ([ClassInfo#SyncSource SyncSource]) and the intermediary storage ([ClassInfo#IntermediaryStorage IntermediaryStorage]). A SyncJob is uniquely identified by its name on a PC. Internally, it also uses a unique id.

!SyncJobManager is used to manage SyncJob object. This includes saving and restoring a SyncJob to storage as well as modifying SyncJob information.

[http://www.comp.nus.edu.sg/~deskoh/devGuide/syncjob01.png]


=== SQLiteSyncJobManager ===

The SQLiteSyncJobManager inherits from SyncJobManager abstract class. On instantiation, it will check if the database schema is created and creates it if necessary.

[http://www.comp.nus.edu.sg/~deskoh/devGuide/syncjob02.png]

----

== !SyncSource Related Classes ==

=== !SyncSource ===

Encapsulates information about the folder being synchronized and possibly other information regarding the PC where the folder is. Each !SyncSource has a unique GUID. It should be noted that there can be 2 different !SyncSource object that represents the same folder on a PC. This is to allow a folder to be part of 2 different !SyncJobs.

[http://www.comp.nus.edu.sg/~deskoh/devGuide/syncsource01.png]

=== SQLiteSyncSourceProvider ===

Inherits from !SyncSourceProvider abstract class. On instantiation, it will check if the database schema is created and creates it if necessary.

[http://www.comp.nus.edu.sg/~deskoh/devGuide/syncsource02.png]

----

== !SyncActions Related Classes ==

[http://www.comp.nus.edu.sg/~deskoh/devGuide/actions.png]

=== !SyncAction ===

An abstract class to represent actions to be taken during synchronization. Each action is associated with at least a file (to be either copied, deleted). Hence, an action contains fields (e.g. file hash) related to the file it is associated with and the id of [ClassInfo#SyncSource SyncSource] where the file originates from.

=== !CreateAction ===

A !CreateAction represents a file to be copied. This action is generated when a file is modified or created.

=== !DeleteAction ===

A !DeleteAction represents a file to be deleted. This action generated if a file that previously used to exist (by reading the metadata) no logner exist now.

=== !RenameAction ===

!RenameAction is currently not implemented yet.

----

== !FileMetadata Related Classes ==

[http://www.comp.nus.edu.sg/~deskoh/devGuide/md.png]

=== !FileMetadata ===

Stores selected information about the file system of a folder to be synchronized. Information includes the root folder, the id of the [ClassInfo#SyncSource SyncSource] and a list of [ClassInfo#FileMetadataItem FileMetadataItem].

=== !FileMetadataItem ===

Contains specific information regarding a file like its hash code, relative file path as well as the id of [ClassInfo#SyncSource SyncSource] it originates from. It should be noted that the absolute root path of a !FileMetadataItem can be obtained by combining it with the rootFolder property of the [ClassInfo#FileMetadata FileMetadata] it belongs to.

=== SQLiteMetadataProvider ===

SQLiteMetadataProvider inherits from MetadataProvider abstract class to persist FileMetadata to an SQLite database.

----

=== !IntermediaryStorage ===

This class represents information about the intermediary storage used for synchronization, in particular, the file path of the storage, and where the dirty files are kept.

[http://www.comp.nus.edu.sg/~deskoh/devGuide/is.png]